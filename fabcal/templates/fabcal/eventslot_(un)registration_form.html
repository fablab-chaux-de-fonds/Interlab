{% extends "forms/base_forms.html" %}
{% load i18n crispy_forms_tags %}
{% load render_bundle from webpack_loader %}

{% block content_form_img %}
<img src="{{event_slot.event.photo.url}}" class="img img-fluid rounded" alt="{{event_slot.event.title}}">
{% endblock %}

{% block content_form %}
<h3>{{event_slot.event.title}}</h3>
{% include 'fabcal/event_info.html' with object=event_slot %}

<form action="
    {% if 'delete' in view.request.path %}
        {% comment %} {% url 'fabcal:eventslot-unregister' object.pk %} {% endcomment %}
        .
    {% else %}
        {% url 'fabcal:eventslot-register' object.event_slot.pk %}   
    {%endif%}
    "
    method="POST">
    {% csrf_token %}
    {% if 'delete' not in view.request.path %}
        <div class="mt-3">
            <div class="form-group row">
                <label for="{{ form.number_of_attendees.id_for_label }}" class="col-9 col-form-label my-auto">{{ form.number_of_attendees.label }}</label>
                <div class="col-3"> {{ form.number_of_attendees }} </div>
            </div>
        </div>
    {%endif%}
    {% include 'fabcal/(un)registration_button.html' %}
</form>

{% endblock content_form %}